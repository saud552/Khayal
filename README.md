# Telegram Report Bot - بوت الإبلاغ على تليجرام

بوت تليجرام متقدم لإدارة الحسابات وتنفيذ عمليات الإبلاغ بشكل آمن ومحسن.

## 🎯 الميزات الرئيسية

### 🤖 إدارة البوتين
- **بوت التحكم (`add.py`)**: إدارة الحسابات (إضافة/حذف/تعديل)
- **بوت البلاغات (`khayal.py`)**: تنفيذ عمليات الإبلاغ المختلفة

### 📊 أنواع البلاغات المدعومة
- **بلاغات الأعضاء**: إبلاغ عن المستخدمين والقنوات
- **بلاغات الرسائل**: إبلاغ عن رسائل محددة
- **بلاغات الصور**: إبلاغ عن المحتوى المرئي
- **بلاغات الإعلانات**: إبلاغ عن المحتوى الممول
- **بلاغات جماعية**: عمليات إبلاغ متعددة
- **بلاغات رسائل البوت**: إبلاغ عن رسائل البوتات

### 🔧 المميزات التقنية
- **نظام Socks5 محسن**: دعم البروكسيات لحماية أفضل
- **تشفير الجلسات**: حماية معلومات الحسابات
- **إدارة قاعدة البيانات**: تخزين آمن للحسابات والفئات
- **معالجة أخطاء شاملة**: استقرار عالي أثناء التشغيل
- **واجهة سهلة**: أزرار تفاعلية وقوائم منظمة

## 📋 متطلبات التشغيل

### النظام
- **Python 3.8+**
- **Linux/macOS/Windows**
- **اتصال إنترنت مستقر**

### المكتبات المطلوبة
- `python-telegram-bot>=20.0`
- `telethon>=1.24.0`
- `cryptography>=3.4.8`
- `PySocks>=1.7.1`
- `aiofiles>=0.7.0`

## 🚀 التثبيت والتشغيل

### طريقة التثبيت التلقائي (مستحسن)

```bash
# إعطاء صلاحيات التنفيذ
chmod +x install_and_run.sh

# تشغيل التثبيت والتشغيل التلقائي
./install_and_run.sh
```

### طريقة التثبيت اليدوي

1. **تثبيت المتطلبات:**
   ```bash
   pip install -r requirements.txt
   ```

2. **تكوين الإعدادات:**
   - عدل ملف `config.py`
   - أضف `API_ID`, `API_HASH`, `BOT_TOKEN`

3. **تشغيل البوتين:**
   ```bash
   # تشغيل بوت التحكم
   python3 add.py &
   
   # تشغيل بوت البلاغات
   python3 khayal.py &
   ```

## 🔄 التحديث

### التحديث التلقائي (مستحسن)

```bash
# إعطاء صلاحيات التنفيذ
chmod +x update_and_restart.sh

# تشغيل التحديث وإعادة التشغيل
./update_and_restart.sh
```

### التحديث اليدوي

```bash
git pull origin main
pip install -r requirements.txt --upgrade
pkill -f "khayal.py"
pkill -f "add.py"
python3 add.py &
python3 khayal.py &
```

## ⚙️ التكوين

### ملف config.py
```python
# الإعدادات الأساسية
API_ID = 12345678
API_HASH = 'your_api_hash'
BOT_TOKEN = 'your_bot_token'
OWNER_ID = 123456789

# إعدادات قاعدة البيانات
DB_PATH = 'accounts.db'
```

### متغيرات البيئة (اختياري)
```bash
export TG_API_ID=12345678
export TG_API_HASH=your_api_hash
export BOT_TOKEN=your_bot_token
```

## 🔒 الأمان

### ⚠️ تحذيرات مهمة
- **لا تشارك** ملف `config.py` أو معلومات API
- **احم قاعدة البيانات** `accounts.db` من الوصول غير المصرح
- **استخدم بروكسيات موثوقة** لحماية إضافية
- **تأكد من شرعية** عمليات الإبلاغ

### 🛡️ مميزات الأمان
- تشفير جلسات الحسابات
- معدل محدود للبلاغات
- كشف النشاط المشبوه
- إيقاف تلقائي عند الأخطاء

## 📁 هيكل المشروع

```
├── Email/                    # وحدة البريد الإلكتروني
│   ├── __init__.py
│   └── email_reports.py
├── Telegram/                 # وحدات تليجرام
│   ├── __init__.py
│   ├── common.py            # دوال مشتركة
│   ├── common_improved.py   # نظام محسن
│   ├── config.py           # إعدادات محلية
│   ├── support_module.py   # وحدة الدعم
│   ├── report_*.py         # وحدات البلاغات
│   └── ...
├── config.py               # ملف الإعدادات الرئيسي (حساس)
├── encryption.py           # وحدة التشفير
├── khayal.py              # بوت البلاغات الرئيسي
├── add.py                 # بوت التحكم بالحسابات
├── monitor_bot.py         # وحدة المراقبة
├── install_and_run.sh     # سكريبت التثبيت التلقائي
├── update_and_restart.sh  # سكريبت التحديث التلقائي
└── requirements.txt       # متطلبات Python
```

## 🎮 طريقة الاستخدام

### 1. إعداد الحسابات (بوت add.py)
- إضافة حسابات تليجرام
- إنشاء فئات للحسابات
- إدارة الجلسات

### 2. تنفيذ البلاغات (بوت khayal.py)
- اختيار نوع البلاغ
- تحديد الهدف
- اختيار الحسابات
- مراقبة التقدم

### 3. مراقبة النظام
```bash
# عرض الحالة
ps aux | grep -E '(khayal|add)\.py'

# إيقاف البوتات
pkill -f khayal.py
pkill -f add.py
```

## 🆘 استكشاف الأخطاء

### مشاكل شائعة:

#### مشكلة: "البوت لا يستجيب"
**الحل:**
1. تحقق من صحة `BOT_TOKEN`
2. تأكد من اتصال الإنترنت
3. أعد تشغيل البوت

#### مشكلة: "خطأ في البروكسي"
**الحل:**
1. تحقق من صحة عنوان البروكسي
2. جرب بروكسيات أخرى
3. استخدم الاتصال المباشر

#### مشكلة: "فشل في تحميل الحسابات"
**الحل:**
1. تحقق من ملف `accounts.db`
2. تأكد من صحة جلسات الحسابات
3. أعد إضافة الحسابات

## 🔧 أوامر مفيدة

```bash
# عرض العمليات النشطة
ps aux | grep python

# مراقبة استخدام الذاكرة
htop

# فحص اتصال الشبكة
ping telegram.org

# عرض مساحة القرص
df -h
```

## 📞 الدعم

للحصول على المساعدة:
1. تحقق من الأخطاء في وحدة التحكم
2. راجع إعدادات `config.py`
3. تأكد من تحديث المكتبات
4. أعد تشغيل النظام

## ⚖️ المسؤولية

- هذا البوت للاستخدام القانوني فقط
- المطور غير مسؤول عن إساءة الاستخدام
- تأكد من الامتثال لقوانين منطقتك
- احترم شروط خدمة تليجرام

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - انظر ملف LICENSE للتفاصيل.